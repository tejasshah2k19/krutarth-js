<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"/>
    <style>
        span {
            color: red;
        }
    </style>
</head>

<body>

    <div class="container">

        <div class="row">
            <div class="col-md-6" id="signupForm">
                <h2>Signup</h2>
                <form name="reg">
                    <div class="form-group">
                        <lable>FirstName</lable>
                        <input type="text" name="firstName" class="form-control" /><span id="firstNameError"></span>
                    </div>
                    <div class="form-group">
                        <lable>Email</lable>
                        <input type="text" name="email" class="form-control" /><span id="emailError"></span>
                    </div>
                    <div class="form-group">
                        <lable>Password</lable>
                        <input type="text" name="password" class="form-control" /><span id="passwordError"></span>
                    </div>

                    <button type="button" onclick="validate()" class="btn btn-primary">Signup</button>
                    <!-- <button type="button" onclick="showUsers()" class="btn btn-success">Show Users</button>
                     -->



                </form>
                <a href="#" onclick="loginForm()">Login</a>
            </div>

        </div>

        <div class="row">

            <div class="col-md-6" id="loginForm" style="display: none;"  >
                <h2>Login</h2>
                <form name="login">
                    
                    <div class="form-group">
                        <lable>Email</lable>
                        <input type="text" name="email" class="form-control" /><span id="emailError"></span>
                    </div>
                    <div class="form-group">
                        <lable>Password</lable>
                        <input type="text" name="password" class="form-control" /><span id="passwordError"></span>
                    </div>

                    <button type="button"  class="btn btn-primary">Login</button>
                    <!-- <button type="button" onclick="showUsers()" class="btn btn-success">Show Users</button>
                     -->



                </form>
                <a href="#" onclick="signupForm()">Signup</a>
            </div>

        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <script>


        //var  --- global , re-declare    
        //let --- local , you can't redeclare it 
        //const -- mark a variable as constant -- fixed value  once you assing value u cant modify 

        var users = [] //blank users array 

        function validate() {

            let onlyAlpha = /^[a-zA-Z]+$/;
            let emailRegx = /^[a-zA-Z0-9]+@[a-zA-Z]+\.[a-zA-Z]{2,3}$/;

            let firstName = document.reg.firstName.value;
            let email = document.reg.email.value;
            let password = document.reg.password.value;

            let isError = false

            if (firstName.trim().length == 0) {
                isError = true;
                document.getElementById("firstNameError").innerHTML = "FirstName is Required"
            }
            else if (onlyAlpha.test(firstName) == false) {
                document.getElementById("firstNameError").innerHTML = "FirstName contains only alphabets [a-zA-Z]"
                isError = true
            }
            else {
                document.getElementById("firstNameError").innerHTML = ""
            }


            if (email.trim().length == 0) {
                isError = true;
                document.getElementById("emailError").innerHTML = "Email is Required"
            }
            else if (emailRegx.test(email) == false) {
                document.getElementById("emailError").innerHTML = "Invalid Email Format"
                isError = true
            }
            else {
                document.getElementById("emailError").innerHTML = ""
            }


            if (password.trim().length == 0) {
                isError = true;
                document.getElementById("passwordError").innerHTML = "Password is Required"
            } else {
                document.getElementById("passwordError").innerHTML = ""
            }
            if (isError == false) {
                saveUser();
            }
        }

        function saveUser() {

            const total = 12;
            // total =12; //error 
            var firstName = document.reg.firstName.value;
            var email = document.reg.email.value;
            var password = document.reg.password.value;

            let user = {
                firstName: firstName,
                email: email,
                password: password
            }
            users.push(user);
            console.log(user);
            document.reg.reset()
            toastr.success("Signup Done","",{timeOut:3000})
        }


        function showUsers() {
            let ans = document.getElementById("ans");
            let fn = ""
            for (let i = 0; i < users.length; i++) {
                fn = fn + users[i].firstName + "<br>";//1  2   
                //  ans.innerHTML = users[i].firstName;
            }
            ans.innerHTML = fn;
            console.log(users);

        }

        function loginForm() {
            let signup = document.getElementById("signupForm")
            signup.style.display = "none"
            let login = document.getElementById("loginForm")
            login.style.display = "block"

        }

        function signupForm(){
            let signup = document.getElementById("signupForm")
            signup.style.display = "block"
            let login = document.getElementById("loginForm")
            login.style.display = "none"
        }
    </script>
</body>

</html>